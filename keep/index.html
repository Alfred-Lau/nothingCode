<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <p>
        ctetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dvoluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, conse</p>
    <!-- html 绑定事件 -->
    <input type="button" value="click me" onclick="console.log(this.value)">
    <input id="btn" type="button" value="click me dom0">
    <input id="btn2" type="button" value="click me dom2">
    <a id="aRef" href="https://www.baidu.com">a href</a>
    <input type="button" id="dbclick" value="dbclick">
    <textarea name="content" id="mtext" cols="30" rows="10"></textarea>
    <p contenteditable>
        ctetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure fuga, totam quod nam quas necessitatibus cum aliquam, iusto provident non voluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dvoluptates veritatis est magni inventore consectetur voluptatibus numquam magnam cupiditate.Lorem ipsum dolor sit amet, conse</p>
    <input type="button" id="cEvent" value="createEvent">
    <form id="form" action="" method="get">
        <!--         <fieldset>
            <legend>Title</legend>
            <input type="radio" id="radio">
            <label for="radio">Click me</label>
        </fieldset>
        <fieldset>
            <legend>Content</legend>
            <input type="text" name="content">
        </fieldset>
        <fieldset>
            <legend>dest</legend>
            <textarea name="desc" id="desc" cols="30" rows="10" placeholder="Welcome ."></textarea>
        </fieldset>
        <input type="submit" name="submit">
        <input type="reset" name="reset">
        <input type="text" name="size" size="16" value="hello" maxlength="8">
        <textarea name="area" id="area" cols="30" rows="10">you konw me</textarea>
        <input type="text" id="numOnly"> -->
        <input type="text" id="txtTel1" name="tel1" maxlength="3">
        <input type="text" id="txtTel2" name="tel2" maxlength="3">
        <input type="text" id="txtTel3" name="tel3" maxlength="4">
    </form>
    <form id="f2" action="post">
        <input type="text" required>
        <input type="number" min="0" max="10" step="3">
        <input type="text" pattern="\d+">
        <input type="submit" formnovalidate>
        <input type="submit">
        <select name="location" id="loc">
            <option value="USA">USA</option>
            <option value="China">China</option>
            <option value="Russin">Russin</option>
        </select>
    </form>
    <iframe src="blank.html" name="richEdit" style="height: 100px; width: 100px;" frameborder="0"></iframe>
    <div id="contentEditable" contenteditable style="height: 100px; width: 100px; border: 1px solid #ccc;"></div>

    <script>

    // 富文本编辑
    window.addEventListener('load', function () {
        frames['richEdit'].document.designMode = 'on'
    })


    // H5约束验证 API: required属性, email, url, 

    // 自动切换焦点功能
    function tabForward(e) {
        var target = e.target

        // 注意: maxLength 的 Length 大写
        if (target.value.length == target.maxLength) {
            var form = target.form

            for (var i = 0, len = form.elements.length; i < len; i++) {
                if (form.elements[i] == target) {
                    if (form.elements[i + 1]) {
                        form.elements[i + 1].focus()
                    }
                    return
                }
            }
        }
    }

    var box1 = document.getElementById('txtTel1')
    var box2 = document.getElementById('txtTel2')
    var box3 = document.getElementById('txtTel3')

    box1.addEventListener('keyup', tabForward)
    box2.addEventListener('keyup', tabForward)
    box3.addEventListener('keyup', tabForward)


    window.addEventListener('paste', function(e) {
            var text = e.clipboardData.getData("text")

            console.log(text)
        })
        // var numberOnly = document.getElementById('numOnly')
        // numberOnly.addEventListener('keypress', function (e) {
        //     // e.charCode在键盘事件中存在,指代点按的键盘字符
        //     var charCode = e.charCode
        //     if (!/\d/.test(String.fromCharCode(charCode)) && charCode > 9 && !e.ctrlKey) {
        //         e.preventDefault()
        //     } else {}
        // })
        // var areaSelect = document.getElementById('area')

    // 在调用setSelectionRange之前,必须先调用 select 选中
    // area.select()
    // 下面一句不能使用 this.value.length, 因为这里的 this 指代的作用域对象为 window; 但如果这里是一个回调函数,那么使用 this 就是合理的.
    // area.setSelectionRange(0, area.value.length-4)

    // 选中: area.select()
    // areaSelect.addEventListener('select', function (e) {
    //     alert('area selected ' + this.value)
    //     alert(this.value.substring(this.selectionStart, this.selectionEnd));
    // })


    window.addEventListener('deviceorientation', function(e) {
        var textarea = document.getElementById('mtext')
        textarea.innerText = (e.alpha + e.beta + e.gamma).toFixed(2)
    })

    window.addEventListener('orientationchange', function(e) {
        alert(window.orientation)
    })
    window.addEventListener('hashchange', function(e) {
        alert('old hash is :' + e.oldURL + ' and new hash is :' + e.newURL)
    })

    // window.addEventListener('beforeunload', function (event) {
    //  var msg = 'I am really going to miss you if you go.'
    //  event.returnValue = msg
    //  return msg
    // })

    // js 绑定事件: Dom0 级方法   冒泡阶段处理(由内向外)
    var btn = document.getElementById('btn')
    btn.onclick = function(event) {
        alert('hello, dom0')
            // 阻止事件进一步在 DOM 层次中的传播,使得 document.body 的 click 事件无法执行.
        event.stopPropagation()
    }

    // document.body.onclick = function () {
    //  alert('hello, body')
    // }

    //删除绑定事件:  btn.onclick = null

    //js 绑定事件: Dom2 级方法   
    var btn2 = document.getElementById('btn2')
    btn2.addEventListener('click', function(event) {
            //  clientX属性是保存在 event 事件对象之中的
            console.log(event.clientX)
            console.log(event.pageX)
            console.log(event.clientY)
            console.log(event.pageY)
        }, false)
        // btn2.addEventListener('click', function() {
        //     alert('dom2 again');
        // }, false)

    var aVal = document.getElementById('aRef')
    aVal.onclick = function(event) {
        // 阻止 a 链接的默认行为: 跳转
        // event.preventDefault()
    }


    var dbclick = document.getElementById('dbclick')
    dbclick.addEventListener('dblclick', function() {
        alert('this is a db-click event')

    })

    var textarea = document.getElementById('mtext')
    textarea.addEventListener('textInput', function(event) {
        alert(event.datRa)
    })

    var cEvent = document.getElementById('cEvent')
    cEvent.addEventListener('click', function(event) {
        // alert(event.target.id)
    })
    var event = document.createEvent('MouseEvent')

    event.initMouseEvent('click', true, true, document.defaultView, 0, 0, 0, 0, 0, false, false, false, false, 0, null)
    cEvent.dispatchEvent(event)


    var form = document.getElementById('form')
    form.addEventListener('submit', function(e) {
        e.target.elements['submit'].disabled = true
            // e.preventDefault()
    })
    form.addEventListener('reset', function() {
        alert('reset')
    })
    </script>
</body>

</html>
